version: "3.4"

services:
  voconed:
    image: "vocdoni/go-dvote:latest"
    entrypoint: "/app/voconed"
    # TODO: treasurer should really go into voconed.env but voconed doesn't yet support it as an env, only as cmdline arg
    command: "--treasurer=0xfe10DAB06D636647f4E40dFd56599da9eF66Db1c"
    env_file: voconed.env
    volumes:
      - "run:/app/run"
    ports:
      - 127.0.0.1::9095
    sysctls:
      net.core.somaxconn: 8128
    logging:
      driver: json-file
      options:
        max-size: "20m"
        max-file: "10"

volumes:
  run: {}
